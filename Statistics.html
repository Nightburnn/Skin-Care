<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skin Care | Statistics</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="Statistics.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="shortcut icon" href="assets/images/logo.png" type="image/x-icon">

</head>
<body>
   <!--Header Section -->
   <header class="header text-white sticky-header">
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="#"><img src="assets/images/logo.png" alt="Skin Care Logo"> Skin Care</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="material-symbols-outlined">
                menu
            </span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a class="nav-link" href="Start.html">Start</a></li>
                <li class="nav-item"><a class="nav-link" href="Search.html">Search</a></li>
                <li class="nav-item"><a class="nav-link active" href="#">Profile</a></li>
                <li class="nav-item"><a class="nav-link" href="Customer.html">Customer Segmentation</a></li>
            </ul>
        </div>
    </nav>
</header>
<!--End Header Section -->
<div class="container-fluid text-white">
   
    <div class="card text-white my-3 pro">
        <div class="card-body">
            <div class="d-flex align-items-center">
                <img id="avatar" alt="User" class="rounded-circle me-3" width="50" height="50">
                <div>
                    <h5 class="card-title mb-0" id="name"></h5>
                    <p class="card-text" id="demographics"></p>
                </div>
            </div>
            <div class="mt-3 d-flex flex-wrap" id="skinConcerns">
               
            </div>
            <div class="row justify-content-between mt-3">
                <div class="col-12 col-md">
                    <p class="mb-0">Skin Type</p>
                    <p id="skinType"></p>
                </div>
                <div class="col-12 col-md">
                    <p class="mb-0">Mask</p>
                    <p id="maskType"></p>
                </div>
                <div class="col-12 col-md">
                    <p class="mb-0">Basic Skin Issues</p>
                    <p id="basicSkinIssues"></p>
                </div>
            </div>
            <h5 class="rec">Recommended Skincare Routine</h5>
            <div class="row justify-content-evenly mt-3">
                <div class="col-6 col-md">
                    <p>Hyaluronic Acid</p>
                </div>
                <div class="col-6 col-md">
                    <p>Retinol Cream</p>
                </div>
                <div class="col-6 col-md">
                    <p>Vitamin C Serum</p>
                </div>
                <div class="col-6 col-md">
                    <p>Vitamin E</p>
                </div>
                <div class="col-6 col-md">
                    <p>Vitamin B</p>
                </div>
                <div class="col-6 col-md">
                    <p>Collagen Booster</p>
                </div>
            </div>
        </div>
    </div>


<div class="other">
    <div class="row">
        <div class="col-md-6">
            <div class="card text-white mb-3 " data-aos="fade-up">
                <div class="card-body">
                    <h5 class="card-title mb-3">Segmentation Results</h5>
                    <div class="table-wrapper">
                        <table class="table table-dark table-striped">
                            <tbody>
                                <tr data-aos="fade-up">
                                    <td>Medium</td>
                                    <td>Dark</td>
                                    <td>Texture</td>
                                    <td>Smooth</td>
                                    <td>Uneven</td>
                                    <td>Fine Pores</td>
                                </tr>
                                <tr data-aos="fade-up" data-aos-delay="100">
                                    <td>Hydration Level</td>
                                    <td>Low</td>
                                    <td>Medium</td>
                                    <td>High</td>
                                    <td>Skin Tone</td>
                                    <td>Fair</td>
                                </tr>
                                <tr data-aos="fade-up" data-aos-delay="200">
                                    <td>Medium</td>
                                    <td>Dark</td>
                                    <td>Texture</td>
                                    <td>Smooth</td>
                                    <td>Uneven</td>
                                    <td>Fine Pores</td>
                                </tr>
                                <tr data-aos="fade-up" data-aos-delay="300">
                                    <td>Hydration Level</td>
                                    <td>Low</td>
                                    <td>Medium</td>
                                    <td>High</td>
                                    <td>Skin Tone</td>
                                    <td>Fair</td>
                                </tr>
                                <tr data-aos="fade-up" data-aos-delay="400">
                                    <td>Medium</td>
                                    <td>Dark</td>
                                    <td>Texture</td>
                                    <td>Smooth</td>
                                    <td>Uneven</td>
                                    <td>Fine Pores</td>
                                </tr>
                                <tr data-aos="fade-up" data-aos-delay="500">
                                    <td>Hydration Level</td>
                                    <td>Low</td>
                                    <td>Medium</td>
                                    <td>High</td>
                                    <td>Skin Tone</td>
                                    <td>Fair</td>
                                </tr>
                                <tr data-aos="fade-up" data-aos-delay="600">
                                    <td>Medium</td>
                                    <td>Dark</td>
                                    <td>Texture</td>
                                    <td>Smooth</td>
                                    <td>Uneven</td>
                                    <td>Fine Pores</td>
                                </tr>
                                <tr data-aos="fade-up" data-aos-delay="700">
                                    <td>Hydration Level</td>
                                    <td>Low</td>
                                    <td>Medium</td>
                                    <td>High</td>
                                    <td>Skin Tone</td>
                                    <td>Fair</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        
        <div class="col-md-6">
            <div class="card text-white mb-3" data-aos="fade-up" data-aos-delay="200">
                <div class="card-body">
                    <h5 class="card-title mb-3">Customer Insights</h5>
                    <div class="row">
                        <div class="col-6 col-md-3">
                            <p>Age Group</p>
                            <p>25-34</p>
                        </div>
                        <div class="col-6 col-md-3">
                            <p>Gender</p>
                            <p>Female</p>
                        </div>
                        <div class="col-6 col-md-3">
                            <p>Concerns</p>
                            <p>Dryness</p>
                        </div>
                        <div class="col-6 col-md-3">
                            <p>Recommend</p>
                            <p>50% off</p>
                        </div>
                    </div>
                    <div class="btn-group d-flex flex-wrap" role="group">
                        <button type="button" class="btn btn-outline-pink flex-fill m-1" onclick="updateChart('daily')">Daily</button>
                        <button type="button" class="btn btn-outline-pink active flex-fill m-1" onclick="updateChart('weekly')">Weekly</button>
                        <button type="button" class="btn btn-outline-pink flex-fill m-1" onclick="updateChart('monthly')">Monthly</button>
                        <button type="button" class="btn btn-outline-pink flex-fill m-1" onclick="updateChart('yearly')">Yearly</button>
                    </div>
                    <canvas id="customerInsightsChart" class="mt-3" data-aos="fade-up" data-aos-delay="400"></canvas>
                </div>
            </div>
        </div>
        
    </div>

    <div class="row text-center result">
        <div class="col-md-12 ">
            <div class="card mt-3 mb-3">
                <div class="card-header text-center">Skin Analysis Results</div>
                <div class="card-body text-center">
                    <ul>
                        <li><img src="assets/images/skinAnalysis1.png" alt="icon"  width="30" height="30"> Fine Lines Treatment - 2 weeks ago</li>
                        <li><img src="assets/images/skinAnalysis2.png" alt="icon"  width="30" height="30"> Sensitive Skin Reaction - 3 weeks ago</li>
                        <li><img src="assets/images/skinAnalysis3.png" alt="icon"  width="30" height="30"> UV Protection Care - 2 days ago</li>
                        <li><img src="assets/images/skinAnalysis4.png" alt="icon"  width="30" height="30"> Skin Soothing Cream - 3 years ago</li>
                    </ul>
                </div>
            </div>
        </div>
        
    </div>

    <div class="card text-white mb-3" data-aos="fade-up" data-aos-delay="500">
        <div class="card-body">
            <h5 class="card-title mb-3">Workout Options</h5>
            <div class="row">
                <div class="col-6 col-md-3 mb-2">
                    <button type="button" class="btn btn-outline-pink w-100">Cleanse</button>
                </div>
                <div class="col-6 col-md-3 mb-2">
                    <button type="button" class="btn btn-outline-pink w-100">Hydrate</button>
                </div>
                <div class="col-6 col-md-3 mb-2">
                    <button type="button" class="btn btn-outline-pink w-100">Brighten</button>
                </div>
                <div class="col-6 col-md-3 mb-2">
                    <button type="button" class="btn btn-outline-pink w-100">Revitalize</button>
                </div>
            </div>
        </div>
    </div>
</div>
    
    
</div>

  <!-- Footer Section -->
  <footer class="footer text-white text-center mt-5">
    <p>&copy; A Prototype for the Masters Project: Enhancing Personalized Marketing Strategies for Facial Skincare Products Through Predictive Customer Segmentation</p>
</footer>
  <!-- End Footer Section -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>


document.addEventListener('DOMContentLoaded', (event) => {
        const firstName = localStorage.getItem('firstName') || 'N/A';
        const lastName = localStorage.getItem('lastName') || 'N/A';
        const skinType = localStorage.getItem('skinType') || 'N/A';
        const age = localStorage.getItem('age') || 'N/A';
        const gender = localStorage.getItem('gender') || 'N/A';
        const race = localStorage.getItem('race') || 'N/A';
        const skinConcerns = (localStorage.getItem('skinConcerns') || '').split(',');
        const maskType = localStorage.getItem('maskType') || 'N/A';
        const basicSkinIssues = localStorage.getItem('basicSkinIssues') || 'N/A';

        document.getElementById('name').innerText = `${firstName} ${lastName}`;
        document.getElementById('demographics').innerText = `${gender}, ${age} years old`;

       // Set the avatar based on gender and race
       let avatarSrc = 'assets/images/';
        if (gender.toLowerCase() === 'male') {
            if (race.toLowerCase() === 'black') {
                avatarSrc += 'blackmale.jpg';
            } else if (race.toLowerCase() === 'white') {
                avatarSrc += 'whitemale.avif';
            } else if (race.toLowerCase() === 'asian') {
                avatarSrc += 'asianmale.jpg';
            } else {
                avatarSrc += 'male_default.jpg';
            }
        } else if (gender.toLowerCase() === 'female') {
            if (race.toLowerCase() === 'black') {
                avatarSrc += 'blackfemale.jpg';
            } else if (race.toLowerCase() === 'white') {
                avatarSrc += 'whitefemale.avif';
            } else if (race.toLowerCase() === 'asian') {
                avatarSrc += 'asianfemale.jpg';
            } else {
                avatarSrc += 'female_default.jpg';
            }
        } else {
            avatarSrc += 'default.jpg';
        }

        document.getElementById('avatar').src = avatarSrc;

        skinConcerns.forEach(concern => {
            if(concern) {
                const btn = document.createElement('button');
                btn.className = 'btn btn-pink mb-2';
                btn.innerText = concern.trim();
                document.getElementById('skinConcerns').appendChild(btn);
            }
        });

        document.getElementById('skinType').innerText = skinType;
        document.getElementById('maskType').innerText = maskType;
        document.getElementById('basicSkinIssues').innerText = basicSkinIssues;
    });


const ctx = document.getElementById('customerInsightsChart').getContext('2d');

const chartData = {
    daily: [10, 20, 30, 40, 50, 60, 70],
    weekly: [15, 25, 35, 45, 55, 65, 75],
    monthly: [20, 30, 40, 50, 60, 70, 80],
    yearly: [25, 35, 45, 55, 65, 75, 85]
};

const customerInsightsChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['W1', 'W2', 'W3', 'W4', 'W5', 'W6', 'W7'],
        datasets: [{
            label: 'Customer Insights',
            data: chartData.weekly,
            backgroundColor: 'rgba(255, 0, 255, 0.5)',
            borderColor: 'rgba(255, 0, 255, 1)',
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

function updateChart(period) {
    customerInsightsChart.data.datasets[0].data = chartData[period];
    customerInsightsChart.update();
}
</script>
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script>
  AOS.init();
</script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
