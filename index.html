<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facial Project Questionnaire</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #161616;
            color: white;
        }
        .question-container {
            display: none;
        }
        .question-container.active {
            display: block;
        }
        .btn-primary, .btn-secondary {
            margin: 5px;
            background-color: #ff00ff;
            border-color: #ff00ff;
        }
        .btn-secondary {
            background-color: transparent;
            border-color: #ff00ff;
            color: #ff00ff;
        }
        .btn-primary:hover, .btn-secondary:hover {
            background-color: #d906e2;
            border-color: #d906e2;
        }
        h2{
            color: #d906e2;
        }
        .btn-selected {
            background-color: #100e10;
            border-color: #d906e2;
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <h2>Questionnaire</h2>
    <div id="questionnaire">
        <div class="question-container active" id="question-1">
            <h4>What is your first name?</h4>
            <input type="text" class="form-control" id="firstName">
            <button class="btn btn-primary mt-3" onclick="nextQuestion(2, 'firstName', document.getElementById('firstName').value)">Next</button>
        </div>
        <div class="question-container" id="question-2">
            <h4>What is your last name?</h4>
            <input type="text" class="form-control" id="lastName">
            <button class="btn btn-secondary mt-3" onclick="prevQuestion(1)">Previous</button>
            <button class="btn btn-primary mt-3" onclick="nextQuestion(3, 'lastName', document.getElementById('lastName').value)">Next</button>
        </div>
        <div class="question-container" id="question-3">
            <h4>What is your skin type?</h4>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(4, 'skinType', 'Dry')">Dry</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(4, 'skinType', 'Oily')">Oily</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(4, 'skinType', 'Combination')">Combination</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(4, 'skinType', 'Sensitive')">Sensitive</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(4, 'skinType', 'Normal')">Normal</button>
            <button class="btn btn-secondary mt-3" onclick="prevQuestion(2)">Previous</button>
        </div>
        <div class="question-container" id="question-4">
            <h4>What is your age?</h4>
            <input type="number" class="form-control" id="age">
            <button class="btn btn-secondary mt-3" onclick="prevQuestion(3)">Previous</button>
            <button class="btn btn-primary mt-3" onclick="nextQuestion(5, 'age', document.getElementById('age').value)">Next</button>
        </div>
        <div class="question-container" id="question-5">
            <h4>What is your gender?</h4>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(6, 'gender', 'Male')">Male</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(6, 'gender', 'Female')">Female</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(6, 'gender', 'Other')">Other</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(6, 'gender', 'Prefer not to say')">Prefer not to say</button>
            <button class="btn btn-secondary mt-3" onclick="prevQuestion(4)">Previous</button>
        </div>
        <div class="question-container" id="question-6">
            <h4>What is your race?</h4>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(7, 'race', 'Asian')">Asian</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(7, 'race', 'Black')">Black</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(7, 'race', 'White')">White</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(7, 'race', 'Other')">Other</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(7, 'race', 'Prefer not to say')">Prefer not to say</button>
            <button class="btn btn-secondary mt-3" onclick="prevQuestion(5)">Previous</button>
        </div>
        <div class="question-container" id="question-7">
            <h4>What are your skin concerns?</h4>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Acne', this)">Acne</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Wrinkles', this)">Wrinkles</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Dark spots', this)">Dark spots</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Dryness', this)">Dryness</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Oiliness', this)">Oiliness</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Sensitivity', this)">Sensitivity</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Redness', this)">Redness</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Dark circles', this)">Dark circles</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Pores', this)">Pores</button>
            <button class="btn btn-primary option-btn" onclick="toggleSelection('Uneven texture', this)">Uneven texture</button>
            <div>
                <button class="btn btn-secondary mt-3" onclick="prevQuestion(6)">Previous</button>
                <button class="btn btn-primary mt-3" onclick="nextQuestion(8, 'skinConcerns', selectedConcerns.join(', '))">Next</button>
            </div>
        </div>
        <div class="question-container" id="question-8">
            <h4>Do you use masks? If so, what kind?</h4>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'Sheet mask')">Sheet mask</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'Clay mask')">Clay mask</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'Peel-off mask')">Peel-off mask</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'Hydrating mask')">Hydrating mask</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'Exfoliating mask')">Exfoliating mask</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'Sleeping mask')">Sleeping mask</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'Bubble mask')">Bubble mask</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'Magnetic mask')">Magnetic mask</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(9, 'maskType', 'None')">None</button>
            <button class="btn btn-secondary mt-3" onclick="prevQuestion(7)">Previous</button>
        </div>
        <div class="question-container" id="question-9">
            <h4>Do you have any basic skin issues?</h4>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(10, 'basicSkinIssues', 'Eczema')">Eczema</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(10, 'basicSkinIssues', 'Psoriasis')">Psoriasis</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(10, 'basicSkinIssues', 'Rosacea')">Rosacea</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(10, 'basicSkinIssues', 'Dermatitis')">Dermatitis</button>
            <button class="btn btn-primary option-btn" onclick="nextQuestion(10, 'basicSkinIssues', 'None')">None</button>
            <button class="btn btn-secondary mt-3" onclick="prevQuestion(8)">Previous</button>
            <button class="btn btn-primary mt-3" onclick="finishQuestionnaire()">Finish</button>
        </div>
    </div>
</div>

<script>
   let currentQuestion = 1;
const answers = {};
const selectedConcerns = [];

function nextQuestion(next, key, value) {
    if (key === 'skinConcerns') {
        answers[key] = selectedConcerns.join(', ');
        localStorage.setItem(key, selectedConcerns.join(', '));
    } else {
        answers[key] = value;
        localStorage.setItem(key, value);
    }

    document.getElementById(`question-${currentQuestion}`).classList.remove('active');
    const nextQuestionElement = document.getElementById(`question-${next}`);
    if (nextQuestionElement) {
        nextQuestionElement.classList.add('active');
        currentQuestion = next;
    } else {
        // Redirect to the display page after the last question
        window.location.href = 'Statistics.html';
    }
}

function prevQuestion(prev) {
    document.getElementById(`question-${currentQuestion}`).classList.remove('active');
    document.getElementById(`question-${prev}`).classList.add('active');
    currentQuestion = prev;
}

function toggleSelection(concern, button) {
        const index = selectedConcerns.indexOf(concern);
        if (index === -1) {
            selectedConcerns.push(concern);
            button.classList.add('btn-selected');
        } else {
            selectedConcerns.splice(index, 1);
            button.classList.remove('btn-selected');
        }
        console.log(selectedConcerns);
    }
</script>


</body>
</html>
